<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ï–ì–≠ ‚Äî –ó–∞–¥–∞–Ω–∏–µ 1: –í–∞—Ä–∏–∞–Ω—Ç 1</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #ffffff;
      margin: 0;
      padding: 20px;
      text-align: center;
    }
    h1 {
      color: #333;
    }
    .countdown {
      font-size: 48px;
      color: #b30000;
      margin-top: 50px;
    }
    .instruction {
      font-size: 18px;
      max-width: 800px;
      margin: 20px auto;
      text-align: left;
      background-color: #f9f9f9;
      padding: 20px;
      border-left: 6px solid #0077cc;
    }
    .reading-box {
      background-color: #ffffff;
      padding: 25px;
      margin: 20px auto;
      max-width: 700px;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: 18px;
      text-align: left;
      display: none;
      line-height: 1.6;
    }
    .buttons {
      margin: 20px;
      display: none;
    }
    .record-btn, .stop-btn, .play-btn, .download-btn {
      background-color: #0077cc;
      color: white;
      padding: 12px 24px;
      margin: 10px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
    }
    .record-btn:hover, .stop-btn:hover, .play-btn:hover, .download-btn:hover {
      background-color: #005fa3;
    }
  </style>
</head>
<body>
  <h1>üìñ –ï–ì–≠ ‚Äî –ó–∞–¥–∞–Ω–∏–µ 1: –í–∞—Ä–∏–∞–Ω—Ç 1</h1>

  <div class="instruction">
    <strong>Task 1.</strong> Imagine that you are preparing a project with your friend. You have found some interesting material for the presentation and you want to read this text to your friend. You have 1.5 minutes to read the text silently, then be ready to read it out loud. <strong>You will not have more than 1.5 minutes to read it.</strong>
  </div>

  <div class="countdown" id="countdown">5</div>

  <div id="reading-box" class="reading-box">
    We live in the digital world where many things are done much more quickly and easily online. The banking industry is not an exception. The most significant development in the world of banking is definitely the introduction of online banking. Digital banking is basically an online platform that enables customers to carry out financial transactions. This can include making deposits, transferring funds, paying bills, and more.<br><br>
    Online banking in its earliest forms dates back to the 1980s. However, it really began to take off with the rise of the Internet. The growing adoption of smartphones and mobile banking apps further accelerated the trend. Some people dislike digital banking, but about half of today‚Äôs bank customers have gone digital only, and this figure will continue to grow.
  </div>

  <div class="buttons" id="buttons">
    <button class="record-btn" onclick="startRecording()">üî¥ –ù–∞—á–∞—Ç—å –∑–∞–ø–∏—Å—å</button>
    <button class="stop-btn" onclick="stopRecording()">‚èπÔ∏è –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
    <button class="play-btn" onclick="playRecording()">‚ñ∂Ô∏è –ü—Ä–æ—Å–ª—É—à–∞—Ç—å</button>
    <button class="download-btn" onclick="downloadRecording()">‚¨áÔ∏è –°–∫–∞—á–∞—Ç—å –∑–∞–ø–∏—Å—å</button>
  </div>

  <audio id="audio" controls style="display: none; margin-top: 20px;"></audio>

  <script>
    // –û–±—Ä–∞—Ç–Ω—ã–π –æ—Ç—Å—á—ë—Ç
    let count = 5;
    const countdownEl = document.getElementById("countdown");
    const readingBox = document.getElementById("reading-box");
    const buttonsBox = document.getElementById("buttons");

    const timer = setInterval(() => {
      count--;
      countdownEl.textContent = count;
      if (count === 0) {
        clearInterval(timer);
        countdownEl.style.display = "none";
        readingBox.style.display = "block";
        buttonsBox.style.display = "block";
      }
    }, 1000);

    // –ó–∞–ø–∏—Å—å –∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ
    let mediaRecorder;
    let audioChunks = [];
    let audioBlob;

    async function startRecording() {
      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
      mediaRecorder = new MediaRecorder(stream);
      audioChunks = [];

      mediaRecorder.ondataavailable = e => {
        audioChunks.push(e.data);
      };

      mediaRecorder.onstop = () => {
        audioBlob = new Blob(audioChunks, { type: 'audio/webm' });
        const audioUrl = URL.createObjectURL(audioBlob);
        const audio = document.getElementById("audio");
        audio.src = audioUrl;
        audio.style.display = "block";
      };

      mediaRecorder.start();
    }

    function stopRecording() {
      if (mediaRecorder) {
        mediaRecorder.stop();
      }
    }

    function playRecording() {
      const audio = document.getElementById("audio");
      if (audio.src) {
        audio.play();
      }
    }

    function downloadRecording() {
      if (!audioBlob) return;
      const a = document.createElement("a");
      const url = URL.createObjectURL(audioBlob);
      a.href = url;
      a.download = "ege1_variant1_recording.webm";
      a.click();
    }
  </script>
</body>
</html>
